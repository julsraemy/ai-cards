<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Information Science and information specialists working with AI, designing with AI and developing for AI - Interactive Venn Diagram Exercise</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 1rem;
            touch-action: manipulation; /* Improve touch responsiveness */
            overscroll-behavior: contain; /* Prevent overscroll on mobile */
        }

        @media (max-width: 768px) {
            body {
                padding: 0.5rem; /* Less padding on mobile for more space */
            }
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 1rem;
        }

        .header h1 {
            font-size: 1.6rem;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            font-weight: 700;
            line-height: 1.3;
        }

        .subtitle {
            font-size: 1rem;
            color: rgba(255,255,255,0.9);
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .instructions {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            color: white;
            text-align: center;
            font-size: 0.9rem;
        }

        .main-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 1rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .cards-panel {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 1rem;
            height: fit-content;
        }

        .cards-title {
            color: white;
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-align: center;
        }

        .card-item {
            background: white;
            border-radius: 8px;
            padding: 0.8rem;
            margin-bottom: 0.5rem;
            cursor: grab;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            position: relative;
            touch-action: none; /* Prevent default touch behaviors */
            user-select: none; /* Prevent text selection during drag */
        }

        .card-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .card-item:active {
            transform: scale(0.98);
        }

        .card-item.dragging {
            opacity: 0.5;
            cursor: grabbing;
        }

        .card-number {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: #355cc9;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
        }

        .card-title {
            font-size: 0.9rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 0.3rem;
            padding-right: 2rem;
        }

        .card-pov {
            font-size: 0.7rem;
            color: #666;
            font-style: italic;
        }

        .venn-container {
            position: relative;
            height: 700px; /* Bigger on desktop too */
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            overflow: hidden;
        }

        .venn-svg {
            width: 100%;
            height: 100%;
        }

        .drop-zone {
            fill-opacity: 0.2;
            stroke-width: 4;
            transition: all 0.3s ease;
        }

        .drop-zone.drag-over {
            fill-opacity: 0.7;
            stroke-width: 6;
        }

        /* Highlight all drop zones when dragging */
        body.dragging .drop-zone {
            fill-opacity: 0.4;
            stroke-width: 6;
            animation: pulse-zone 1.5s infinite;
        }

        body.dragging .drop-zone.drag-over {
            fill-opacity: 0.8;
            stroke-width: 8;
            animation: pulse-zone-active 1s infinite;
        }

        @keyframes pulse-zone {
            0% { stroke-width: 6; fill-opacity: 0.4; }
            50% { stroke-width: 8; fill-opacity: 0.6; }
            100% { stroke-width: 6; fill-opacity: 0.4; }
        }

        @keyframes pulse-zone-active {
            0% { stroke-width: 8; fill-opacity: 0.8; }
            50% { stroke-width: 10; fill-opacity: 0.95; }
            100% { stroke-width: 8; fill-opacity: 0.8; }
        }

        .working-zone { fill: #ff4444; stroke: #cc0000; }
        .designing-zone { fill: #4444ff; stroke: #0000cc; }
        .developing-zone { fill: #ffff44; stroke: #cccc00; }

        .zone-label {
            font-size: 16px;
            font-weight: 700;
            fill: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            text-anchor: middle;
            pointer-events: none;
            transition: all 0.3s ease;
        }

        /* Make labels more visible during dragging */
        body.dragging .zone-label {
            font-size: 18px;
            font-weight: 800;
            text-shadow: 3px 3px 8px rgba(0,0,0,0.9);
            animation: glow-text 2s infinite;
        }

        @keyframes glow-text {
            0% { text-shadow: 3px 3px 8px rgba(0,0,0,0.9); }
            50% { text-shadow: 3px 3px 12px rgba(255,255,255,0.8), 0 0 20px rgba(255,255,255,0.5); }
            100% { text-shadow: 3px 3px 8px rgba(0,0,0,0.9); }
        }

        .placed-card {
            position: absolute;
            background: white;
            border-radius: 6px;
            padding: 0.5rem;
            font-size: 0.7rem;
            font-weight: 600;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            cursor: grab;
            min-width: 80px;
            z-index: 10;
            touch-action: none;
            user-select: none;
        }

        .placed-card:hover {
            transform: scale(1.05);
            z-index: 20;
        }

        .controls {
            text-align: center;
            margin: 1rem 0;
        }

        .btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 0.6rem 1.2rem;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            margin: 0 0.5rem;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .legend {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 1rem;
            margin-top: 1rem;
            color: white;
        }

        .legend h3 {
            margin-top: 0;
            margin-bottom: 1rem;
            font-size: 1rem;
            text-align: center;
        }

        .legend-section {
            margin-bottom: 0.8rem;
            font-size: 0.8rem;
        }

        .legend-title {
            font-weight: 700;
            margin-bottom: 0.3rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .colour-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            border: 1px solid rgba(255,255,255,0.3);
        }

        .red { background-color: #ff4444; }
        .blue { background-color: #4444ff; }
        .yellow { background-color: #ffff44; }
        .purple { background-color: #aa44aa; }
        .orange { background-color: #ff9944; }
        .brown { background-color: #996633; }

        .legend-items {
            font-size: 0.7rem;
            line-height: 1.3;
            padding-left: 0.5rem;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .modal-header {
            margin-bottom: 1rem;
        }

        .modal-title {
            color: #355cc9;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .modal-pov {
            background: linear-gradient(135deg, #355cc9, #4a90e2);
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            display: inline-block;
        }

        .modal-description {
            color: #333;
            line-height: 1.6;
            margin: 1.5rem 0;
            font-size: 1rem;
        }

        .modal-links {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
            margin-top: 1.5rem;
        }

        .modal-link {
            background: #355cc9;
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .modal-link:hover {
            background: #2a4aa3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(53, 92, 201, 0.3);
        }

        .close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            color: #999;
            transition: color 0.3s ease;
        }

        .close:hover {
            color: #333;
        }

        .click-hint {
            font-size: 0.6rem;
            color: #999;
            text-align: center;
            margin-top: 0.3rem;
        }

        @media (max-width: 1024px) {
            .main-container {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .cards-panel {
                order: 2;
                max-height: 25vh; /* Much smaller to give more room for diagram */
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            .venn-container {
                height: 80vh; /* Much bigger - 80% of viewport height */
                margin-bottom: 1rem;
            }
            
            .header h1 {
                font-size: 1.3rem;
            }

            .zone-label {
                font-size: 20px; /* Even larger labels */
                font-weight: 800;
                text-shadow: 3px 3px 6px rgba(0,0,0,0.8);
            }
            
            .placed-card {
                font-size: 0.9rem; /* Larger text on mobile */
                padding: 0.8rem;
                min-width: 100px;
            }
        }

        @media (max-width: 768px) {
            .venn-container {
                height: 75vh; /* Still very large on phones */
            }
            
            .cards-panel {
                max-height: 20vh; /* Even smaller panel */
            }
            
            .zone-label {
                font-size: 18px;
                font-weight: 800;
            }
            
            .placed-card {
                font-size: 0.8rem;
                padding: 0.6rem;
                min-width: 90px;
            }
        }

        @media (min-width: 1400px) {
            .venn-container {
                height: 800px; /* Much larger on big screens */
            }
            
            .zone-label {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Information Science and information specialists working with AI, designing with AI and developing for AI</h1>
        <h2>Interactive Venn Diagram Exercise</h2>
        <div class="subtitle">Drag cards to the appropriate regions</div>
    </div>

    <div class="instructions">
        <strong>Instructions:</strong> 
        • <strong>Click</strong> any card to view detailed descriptions and links
        • <strong>Drag</strong> cards from the left panel or the panel below (if you are using a smaller screen) and drop them onto the Venn diagram regions
        • <strong>Double-click</strong> placed cards to return them to the panel
        • Consider each card's Point of View (POV) to determine the appropriate category
    </div>

    <div class="main-container">
        <div class="cards-panel">
            <div class="cards-title">Available Cards</div>
            <div id="cards-container">
                <div class="card-item" data-card="1" draggable="true">
                    <div class="card-number">01</div>
                    <div class="card-title">Annif</div>
                    <div class="card-pov">Subject Cataloger</div>
                    <div class="click-hint">Click for details</div>
                </div>
                <div class="card-item" data-card="2" draggable="true">
                    <div class="card-number">02</div>
                    <div class="card-title">Citation and Best Practices Guidelines</div>
                    <div class="card-pov">University Librarian</div>
                    <div class="click-hint">Click for details</div>
                </div>
                <div class="card-item" data-card="3" draggable="true">
                    <div class="card-number">03</div>
                    <div class="card-title">RAG Chatbot</div>
                    <div class="card-pov">Data Scientist</div>
                    <div class="click-hint">Click for details</div>
                </div>
                <div class="card-item" data-card="4" draggable="true">
                    <div class="card-number">04</div>
                    <div class="card-title">MCP + IIIF Integration</div>
                    <div class="card-pov">Software Developer</div>
                    <div class="click-hint">Click for details</div>
                </div>
                <div class="card-item" data-card="5" draggable="true">
                    <div class="card-number">05</div>
                    <div class="card-title">Image Similarity Search</div>
                    <div class="card-pov">Archivist</div>
                    <div class="click-hint">Click for details</div>
                </div>
                <div class="card-item" data-card="6" draggable="true">
                    <div class="card-number">06</div>
                    <div class="card-title">E-Periodica Next Level Access</div>
                    <div class="card-pov">Metadata Librarian</div>
                    <div class="click-hint">Click for details</div>
                </div>
                <div class="card-item" data-card="7" draggable="true">
                    <div class="card-number">07</div>
                    <div class="card-title">VSA-AAS White Paper on ML</div>
                    <div class="card-pov">Archive Director</div>
                    <div class="click-hint">Click for details</div>
                </div>
                <div class="card-item" data-card="8" draggable="true">
                    <div class="card-number">08</div>
                    <div class="card-title">AI Bots vs Open Data</div>
                    <div class="card-pov">Data Steward</div>
                    <div class="click-hint">Click for details</div>
                </div>
                <div class="card-item" data-card="9" draggable="true">
                    <div class="card-number">09</div>
                    <div class="card-title">Open Library Data Dumps</div>
                    <div class="card-pov">Data Curator</div>
                    <div class="click-hint">Click for details</div>
                </div>
                <div class="card-item" data-card="10" draggable="true">
                    <div class="card-number">10</div>
                    <div class="card-title">HTR with Transkribus</div>
                    <div class="card-pov">Medieval Manuscripts Archivist</div>
                    <div class="click-hint">Click for details</div>
                </div>
                <div class="card-item" data-card="11" draggable="true">
                    <div class="card-number">11</div>
                    <div class="card-title">IIIF Tsukushi Viewer</div>
                    <div class="card-pov">Systems Librarian</div>
                    <div class="click-hint">Click for details</div>
                </div>
                <div class="card-item" data-card="12" draggable="true">
                    <div class="card-number">12</div>
                    <div class="card-title">eluxemburgensia Chatbot</div>
                    <div class="card-pov">Historian</div>
                    <div class="click-hint">Click for details</div>
                </div>
            </div>
        </div>

        <div class="venn-container" id="venn-container">
            <svg class="venn-svg" viewBox="0 0 800 600">
                <!-- Working with AI Circle -->
                <circle cx="240" cy="170" r="200" class="drop-zone working-zone" data-zone="working"/>
                
                <!-- Designing with AI Circle -->
                <circle cx="560" cy="170" r="200" class="drop-zone designing-zone" data-zone="designing"/>
                
                <!-- Developing for AI Circle -->
                <circle cx="400" cy="390" r="200" class="drop-zone developing-zone" data-zone="developing"/>

                <!-- Zone Labels -->
                <text x="130" y="90" class="zone-label">Working with AI</text>
                <text x="670" y="90" class="zone-label">Designing with AI</text>
                <text x="400" y="580" class="zone-label">Developing for AI</text>
            </svg>
        </div>
    </div>

    <!-- Modal for card details -->
    <div id="cardModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle"></h2>
                <div class="modal-pov" id="modalPOV"></div>
            </div>
            <div class="modal-description" id="modalDescription"></div>
            <div class="modal-links" id="modalLinks"></div>
        </div>
    </div>

    <div class="controls">
        <button class="btn" onclick="resetCards()">Reset All Cards</button>
        <button class="btn" onclick="showSolution()">Show Proposed Solution</button>
        <button class="btn" onclick="hideSolution()">Hide Solution</button>
    </div>

    <div class="legend" id="solution-legend" style="display: none;">
        <h3>Proposed Solution - Card Distribution by Category</h3>
        
        <div class="legend-section">
            <div class="legend-title">
                <span class="colour-indicator red"></span>
                Only Working with AI (3 cards):
            </div>
            <div class="legend-items">
                01 - Annif (using existing AI tool for cataloguing)<br>
                10 - HTR with Transkribus (using existing AI service)<br>
                12 - eluxemburgensia Chatbot (historian using AI tool for research)
            </div>
        </div>

        <div class="legend-section">
            <div class="legend-title">
                <span class="colour-indicator blue"></span>
                Only Designing with AI (2 cards):
            </div>
            <div class="legend-items">
                07 - VSA-AAS White Paper on ML (policy framework development)<br>
                08 - AI Bots vs Open Data Risks (risk assessment and governance)
            </div>
        </div>

        <div class="legend-section">
            <div class="legend-title">
                <span class="colour-indicator yellow"></span>
                Only Developing for AI (3 cards):
            </div>
            <div class="legend-items">
                04 - MCP + IIIF Integration (API development for AI systems)<br>
                06 - E-Periodica Next Level Access (building AI infrastructure for metadata)<br>
                09 - Open Library Data Dumps (training data for AI models)
            </div>
        </div>

        <div class="legend-section">
            <div class="legend-title">
                <span class="colour-indicator purple"></span>
                Working + Designing (2 cards):
            </div>
            <div class="legend-items">
                02 - Citation and Best Practices Guidelines (policy creation + implementation)<br>
                11 - IIIF Tsukushi Viewer (system implementation + user interface design)
            </div>
        </div>

        <div class="legend-section">
            <div class="legend-title">
                <span class="colour-indicator orange"></span>
                Working + Developing (1 card):
            </div>
            <div class="legend-items">
                05 - Image Similarity Search (system setup + daily use)
            </div>
        </div>

        <div class="legend-section">
            <div class="legend-title">
                <span class="colour-indicator brown"></span>
                All Three Categories (1 card):
            </div>
            <div class="legend-items">
                03 - RAG Chatbot (building system + policy framework + daily use)
            </div>
        </div>
    </div>

    <script>
        let draggedCard = null;
        let placedCards = new Map();
        let isDragging = false;
        let dragClone = null;
        let startTime = 0;
        let startX = 0;
        let startY = 0;
        let currentCard = null;
        let lastTapTime = 0;

        // Card titles for display
        const cardTitles = {
            1: "Annif",
            2: "Citation and Best Practices Guidelines",
            3: "RAG Chatbot",
            4: "MCP + IIIF",
            5: "Image Similarity",
            6: "E-Periodica NLA",
            7: "VSA-AAS Paper",
            8: "AI Bots vs Open Data",
            9: "Open Library",
            10: "HTR Transkribus",
            11: "Tsukushi Viewer",
            12: "eluxemburgensia"
        };

        // Card detailed information
        const cardDetails = {
            1: {
                title: "Annif",
                pov: "POV: Subject Cataloger",
                description: `<p>Annif is an automated tool for indexing subjects that uses machine learning to suggest appropriate subject headings and classifications for library materials. Rather than librarians having to read through every document manually, Annif can analyse texts and suggest relevant classifications.</p>
                <p>This speeds up the cataloguing process significantly whilst maintaining quality, as human catalogers still review and validate the AI's suggestions before they're finalised.</p>`,
                links: [
                    { text: "🔗 Official Site", url: "https://annif.org/" },
                    { text: "💻 GitHub", url: "https://github.com/NatLibFi/Annif" }
                ]
            },
            2: {
                title: "Citation and Best Practices Guidelines",
                pov: "POV: University Librarian",
                description: `<p>University libraries like the University of Geneva are creating practical guides to help students properly reference and cite generative AI tools such as ChatGPT, Claude, or Gemini in their academic work. These guidelines are essential for maintaining academic integrity whilst embracing new technologies.</p>
                <p>These guide cover citation formats for different AI tools, requirements for disclosing AI use in assignments, and how to fact-check AI-generated content whilst properly attributing AI assistance in academic work.</p>`,
                links: [
                    { text: "🏛️ Referencing the use of GenAI (University of Geneva)", url: "https://www.unige.ch/biblio/en/news/archive/2024/guide-iag/" },
                    { text: "🏛️ Guide de l'Infothèque de la Haute école de travail social", url: "https://www.hesge.ch/hets/sites/hets/files/2024-11/Guide_referencement_IA_HETS-Geneve_2024.pdf" },
                    { text: "🏛️ Artificial Intelligence for Research and Scholarship (Harvard Library)", url: "https://guides.library.harvard.edu/airesearch" }
                ]
            },
            3: {
                title: "RAG Chatbot for LINDAS (Swiss Federal Archives)",
                pov: "POV: Data Scientist",
                description: `<p>Retrieval-Augmented Generation (RAG) is a system that combines an institution's specific knowledge with large language models to provide accurate, contextualised responses regarding its collections and history. The Swiss Federal Archives has developed a RAG Chatbot with the Fachhochschule Graubünden to help researchers navigate the Linked Data Services (LINDAS) system, where knowledge graphs of the Federal Administration can be stored and queried.</p>
                <p>This allows end users to ask natural language questions and receive accurate, source-backed answers.</p>`,
                links: [
                    { text: "💻 GitHub Repository", url: "https://github.com/SwissFederalArchives/sfa-chat-graph" },
                    { text: "🔗 Chatbot UI Prototype", url: "https://sfa-chat-graph.aeol.in/" },
                    { text: "🔗 LINDAS", url: "https://lindas.admin.ch/" }
                ]
            },
            4: {
                title: "MCP + IIIF AI Integration",
                pov: "POV: Software Developer in Cultural Heritage Institution",
                description: `<p>This involves developing Model Context Protocol (MCP) servers that enable AI systems to access and analyse International Image Interoperability Framework (IIIF)-served cultural heritage images. IIIF is a standard way that libraries and museums deliver high-quality images online, whilst MCP provides a standardised way for AI tools to access external data sources.</p>
                <p>The implementation includes parsing IIIF manifests, developing MCP servers for AI communication, integrating AI models for visual analysis, and creating metadata enrichment workflows. Projects like Yale's mcp-iiif-images demonstrate this integration.</p>`,
                links: [
                    { text: "💻 Yale MCP-IIIF", url: "https://github.com/mikeapp/mcp-iiif-images" },
                    { text: "🤗 National Archives of Sweden MCP-IIIF on Hugging Face", url: "https://huggingface.co/spaces/Riksarkivet/iiif_mcp_docs" }
                ]
            },
            5: {
                title: "Image Similarity in Archives",
                pov: "POV: Archivist",
                description: `<p>Archipanion is an AI-powered search system based on vitrivr technology that allows users to search for visually similar images in large photographic archives. The City of Bern Archives uses this system to help researchers explore their historical photograph collection using visual similarity rather than traditional text-based searching.</p>
                <p>Users can search either a scene with similar visual characteristics or text displayed in the media to find photographs. This helps to discover unexpected connections and identify duplicates, as well as enabling exploratory browsing that traditional keyword searching might miss.</p>`,
                links: [
                    { text: "📷 Archipanion for the Bern Archives", url: "https://stadtbern.archipanion.com/" },
                    { text: "📊 vitrivr (University of Basel)", url: "https://vitrivr.org/" }
                ]
            },
            6: {
                title: "E-Periodica Next Level Access",
                pov: "POV: Metadata Librarian",
                description: `<p>ETH Zurich Library's E-Periodica Next Level Access project demonstrates large-scale implementation of AI for cultural heritage. The project uses machine learning for named entity recognition and vector embeddings to semantically match and link millions of person references to authority files like the Gemeinsame Normdatei.</p>
                <p>While the scale is impressive (10 million digitised pages processed, 40 million person entity references extracted), the project emphasises local, resource-efficient solutions rather than relying on commercial AI services. This allows the library to build internal expertise and maintain control over their data processing workflows.</p>`,
                links: [
                    { text: "🔗 NLA Portal", url: "https://nla.e-periodica.ch/" },
                    { text: "📚 ETH Library", url: "https://www.library.ethz.ch/" }
                ]
            },
            7: {
                title: "VSA-AAS White Paper on ML",
                pov: "POV: Archive Director",
                description: `<p>The VSA-AAS (Association of Swiss Archivists) white paper on machine learning represents professional thinking about AI implementation in archives. The concept of "fluid metadata" that can evolve aligns with understanding information as dynamic rather than static, emphasising human-machine collaboration.</p>
                <p>Key concepts include "depth indexing" that goes beyond traditional cataloging, focusing on text recognition, linguistic processing, and multimedia retrieval. The emphasis is on machines excelling at information value while humans provide evidence value and context through "hybrid intelligence."</p>`,
                links: [
                    { text: "📚 VSA-AAS Resource", url: "https://vsa-aas.ch/ressourcen/zugang-und-vermittlung/maschinelles-lernen-im-archiv/" },
                    { text: "📄 White Paper PDF", url: "https://vsa-aas.ch/wp-content/uploads/2024/08/MachineLearning_im_Archiv_Whitepaper_2024-08-08_en.pdf" }
                ]
            },
            8: {
                title: "AI Bots vs Open Data Platforms",
                pov: "POV: Data Steward",
                description: `<p>There are growing concerns about the impact of AI systems on open data platforms and digital collections. While AI can make information more accessible through chatbot interfaces, it also introduces significant infrastructure and sustainability challenges alongside traditional concerns about information gatekeeping and reduced transparency.</p>
                <p>Key issues include the dramatic increase in automated bot traffic seeking training data, which has overwhelmed many cultural heritage institutions and open access platforms.</p>`,
                links: [
                    { text: "📊 glam-e lab report on AI bots", url: "https://www.glamelab.org/products/are-ai-bots-knocking-cultural-heritage-offline/" },
                    { text: "🌐 Wikimedia post on crawlers", url: "https://diff.wikimedia.org/2025/04/01/how-crawlers-impact-the-operations-of-the-wikimedia-projects/" }
                ]
            },
            9: {
                title: "Open Library Data Dumps",
                pov: "POV: Data Curator in Cultural Heritage",
                description: `<p>Open Library, part of the Internet Archive, provides comprehensive data dumps of their bibliographic database containing millions of book records, author information, and reading statistics. These datasets represent one of the largest openly available bibliographic collections for computational analysis and AI training.</p>
                <p>The data dumps include works, editions, authors, and subjects in structured formats suitable for machine learning applications. This enables researchers and developers to build AI systems for book recommendation, bibliographic analysis, and cultural heritage applications using real-world library data at scale.</p>`,
                links: [
                    { text: "📄 Data Dumps", url: "https://openlibrary.org/developers/dumps" },
                    { text: "📚 Internet Archive", url: "https://archive.org/" }
                ]
            },
            10: {
                title: "HTR Outputs from Transkribus",
                pov: "POV: Medieval Manuscripts Archivist",
                description: `<p>Handwritten Text Recognition (HTR) is an AI service that converts handwritten documents into searchable digital text. Transkribus is a popular platform providing this service, particularly valuable for historical documents and manuscripts in various languages and scripts.</p>
                <p>The process involves uploading scanned images of handwritten documents, where AI models analyse the handwriting and convert it to typed text. This transforms previously unsearchable historical documents into fully searchable digital archives.</p>`,
                links: [
                    { text: "📜 Transkribus", url: "https://www.transkribus.org/" }
                ]
            },
            11: {
                title: "IIIF Tsukushi Viewer",
                pov: "POV: Systems Librarian",
                description: `<p>The IIIF Tsukushi Viewer, developed by the Center for Open Data in the Humanities in Japan, leverages IIIF standards to connect multimodal AI models with classical Japanese texts. This innovative viewer allows users to interact with historical documents using modern language interfaces.</p>
                <p>Users can select specific pages or regions, ask questions in modern Japanese about classical content, and receive contextual responses that bridge the gap between historical documents and contemporary understanding. This demonstrates how AI can make cultural heritage more accessible while preserving scholarly rigor.</p>`,
                links: [
                    { text: "🔗 Project Page (Japanese)", url: "https://codh.rois.ac.jp/software/iiif-tsukushi-viewer/" },
                    { text: "🎥 Viewer", url: "https://codh.rois.ac.jp/tsukushi/iiif-tsukushi-viewer/" }
                ]
            },
            12: {
                title: "eluxemburgensia Chatbot",
                pov: "POV: Historian",
                description: `<p>The eluxemburgensia chatbot allows users to explore Luxembourg's digitised newspaper collections through natural language queries. Powered by ChatGPT, this AI-powered interface makes historical newspaper content accessible through conversational search in French, German, and English.</p>
                <p>Users can ask questions about historical topics, events, or themes covered in Luxembourgish newspapers, making decades of historical content discoverable through modern conversational interfaces. The system acknowledges its learning limitations, encouraging critical evaluation of responses while democratizing access to cultural heritage.</p>`,
                links: [
                    { text: "💬 Chat Interface", url: "https://chat.eluxemburgensia.lu/" },
                    { text: "📚 eluxemburgensia", url: "https://eluxemburgensia.lu/" }
                ]
            }
        };

      // Drag and drop event handlers
        document.addEventListener('DOMContentLoaded', function() {
            const cardItems = document.querySelectorAll('.card-item');
            const vennContainer = document.getElementById('venn-container');
            const dropZones = document.querySelectorAll('.drop-zone');
            const modal = document.getElementById('cardModal');
            const closeBtn = document.querySelector('.close');

            cardItems.forEach(card => {
                // Mouse events
                card.addEventListener('dragstart', handleDragStart);
                card.addEventListener('dragend', handleDragEnd);
                card.addEventListener('click', handleCardClick);
                
                // Universal touch/pointer handling for better compatibility
                card.addEventListener('mousedown', handleUniversalStart);
                card.addEventListener('touchstart', handleUniversalStart, {passive: false});
                if (window.PointerEvent) {
                    card.addEventListener('pointerdown', handleUniversalStart);
                }
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
                zone.addEventListener('dragenter', handleDragEnter);
                zone.addEventListener('dragleave', handleDragLeave);
            });

            vennContainer.addEventListener('dragover', handleDragOver);
            vennContainer.addEventListener('drop', handleDropOnDiagram);

            // Modal event handlers
            closeBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });

            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeModal();
                }
            });
        });

        function handleDragStart(e) {
            draggedCard = this;
            this.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', this.outerHTML);
        }

        function handleCardClick(e) {
            // Only handle click if not in middle of drag operation
            if (isDragging || this.classList.contains('dragging')) {
                return;
            }
            
            e.preventDefault();
            e.stopPropagation();
            
            const cardId = parseInt(this.dataset.card);
            openModal(cardId);
        }

        function openModal(cardId) {
            const cardData = cardDetails[cardId];
            if (!cardData) return;

            document.getElementById('modalTitle').textContent = cardData.title;
            document.getElementById('modalPOV').textContent = cardData.pov;
            document.getElementById('modalDescription').innerHTML = cardData.description;
            
            const linksContainer = document.getElementById('modalLinks');
            linksContainer.innerHTML = '';
            
            cardData.links.forEach(link => {
                const linkElement = document.createElement('a');
                linkElement.href = link.url;
                linkElement.target = '_blank';
                linkElement.className = 'modal-link';
                linkElement.textContent = link.text;
                linksContainer.appendChild(linkElement);
            });

            document.getElementById('cardModal').style.display = 'block';
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }

        function closeModal() {
            document.getElementById('cardModal').style.display = 'none';
            document.body.style.overflow = 'auto'; // Restore scrolling
        }

        // Universal drag handling for all browsers and devices
        function handleUniversalStart(e) {
            // Don't interfere with existing drag operations or mouse events on desktop
            if (e.type === 'mousedown' && ('ontouchstart' in window || navigator.maxTouchPoints > 0)) {
                return;
            }
            
            // Prevent default for touch events
            if (e.type === 'touchstart' || e.type === 'pointerdown') {
                e.preventDefault();
            }
            
            startTime = Date.now();
            currentCard = this;
            isDragging = false;
            
            // Get coordinates based on event type
            const clientX = e.clientX || (e.touches && e.touches[0].clientX) || e.pageX;
            const clientY = e.clientY || (e.touches && e.touches[0].clientY) || e.pageY;
            
            startX = clientX;
            startY = clientY;
            
            // Add move and end listeners to document for better tracking
            document.addEventListener('mousemove', handleUniversalMove);
            document.addEventListener('touchmove', handleUniversalMove, {passive: false});
            document.addEventListener('pointermove', handleUniversalMove, {passive: false});
            
            document.addEventListener('mouseup', handleUniversalEnd);
            document.addEventListener('touchend', handleUniversalEnd);
            document.addEventListener('pointerup', handleUniversalEnd);
            
            // Prevent context menu
            document.addEventListener('contextmenu', preventContext);
            
            // Visual feedback
            this.style.transform = 'scale(0.95)';
        }

        function handleUniversalMove(e) {
            if (!currentCard) return;
            
            // Get coordinates based on event type
            const clientX = e.clientX || (e.touches && e.touches[0].clientX) || e.pageX;
            const clientY = e.clientY || (e.touches && e.touches[0].clientY) || e.pageY;
            
            const deltaX = Math.abs(clientX - startX);
            const deltaY = Math.abs(clientY - startY);
            const moveThreshold = 20; // Increased for better reliability
            
            // Start dragging if moved enough
            if (!isDragging && (deltaX > moveThreshold || deltaY > moveThreshold)) {
                isDragging = true;
                
                // Prevent scrolling during drag
                document.body.style.overflow = 'hidden';
                document.body.style.position = 'fixed';
                document.body.style.width = '100%';
                
                // Create drag clone
                createUniversalDragClone(currentCard, clientX, clientY);
                
                // Prevent all default behaviors
                e.preventDefault();
                e.stopPropagation();
            }
            
            // Update clone position if dragging
            if (isDragging && dragClone) {
                e.preventDefault();
                e.stopPropagation();
                
                const rect = dragClone.getBoundingClientRect();
                dragClone.style.left = (clientX - rect.width / 2) + 'px';
                dragClone.style.top = (clientY - rect.height / 2) + 'px';
                
                // Highlight drop zone under cursor
                highlightDropZone(clientX, clientY);
            }
        }

        function handleUniversalEnd(e) {
            if (!currentCard) return;
            
            const duration = Date.now() - startTime;
            const currentTime = Date.now();
            
            // Get coordinates based on event type
            const clientX = e.clientX || (e.changedTouches && e.changedTouches[0].clientX) || e.pageX;
            const clientY = e.clientY || (e.changedTouches && e.changedTouches[0].clientY) || e.pageY;
            
            // Clean up event listeners
            document.removeEventListener('mousemove', handleUniversalMove);
            document.removeEventListener('touchmove', handleUniversalMove);
            document.removeEventListener('pointermove', handleUniversalMove);
            
            document.removeEventListener('mouseup', handleUniversalEnd);
            document.removeEventListener('touchend', handleUniversalEnd);
            document.removeEventListener('pointerup', handleUniversalEnd);
            
            document.removeEventListener('contextmenu', preventContext);
            
            // Restore scrolling
            document.body.style.overflow = 'auto';
            document.body.style.position = 'static';
            document.body.style.width = 'auto';
            
            // Reset visual feedback
            currentCard.style.transform = '';
            
            // Handle tap vs drag
            if (!isDragging && duration < 400) {
                // Check for double-tap on placed cards
                if (currentCard.dataset.placedCard && currentTime - lastTapTime < 600) {
                    cleanupDrag();
                    returnCardToPanel(currentCard.dataset.placedCard);
                    lastTapTime = 0;
                    return;
                }
                
                lastTapTime = currentTime;
                cleanupDrag();
                
                // Open modal
                const cardId = parseInt(currentCard.dataset.card || currentCard.dataset.placedCard);
                openModal(cardId);
                return;
            }
            
            // Handle drop if was dragging
            if (isDragging && dragClone) {
                handleUniversalDrop(clientX, clientY);
            }
            
            cleanupDrag();
        }

        function createUniversalDragClone(sourceCard, clientX, clientY) {
            const rect = sourceCard.getBoundingClientRect();
            dragClone = sourceCard.cloneNode(true);
            
            dragClone.style.position = 'fixed';
            dragClone.style.zIndex = '2000';
            dragClone.style.width = Math.max(rect.width, 100) + 'px'; // Minimum width for visibility
            dragClone.style.height = Math.max(rect.height, 60) + 'px'; // Minimum height
            dragClone.style.pointerEvents = 'none';
            dragClone.style.opacity = '0.9';
            dragClone.style.transform = 'rotate(3deg) scale(1.2)'; // Bigger on mobile
            dragClone.style.boxShadow = '0 15px 35px rgba(0,0,0,0.5)';
            dragClone.style.border = '3px solid #355cc9'; // Visible border
            dragClone.style.left = (clientX - rect.width / 2) + 'px';
            dragClone.style.top = (clientY - rect.height / 2) + 'px';
            dragClone.style.borderRadius = '8px';
            
            // Add a visual indicator
            const indicator = document.createElement('div');
            indicator.style.position = 'absolute';
            indicator.style.top = '-10px';
            indicator.style.right = '-10px';
            indicator.style.width = '20px';
            indicator.style.height = '20px';
            indicator.style.backgroundColor = '#355cc9';
            indicator.style.borderRadius = '50%';
            indicator.style.animation = 'pulse 1s infinite';
            dragClone.appendChild(indicator);
            
            // Add pulse animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes pulse {
                    0% { transform: scale(1); opacity: 1; }
                    50% { transform: scale(1.2); opacity: 0.7; }
                    100% { transform: scale(1); opacity: 1; }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(dragClone);
            sourceCard.style.opacity = '0.3';
            
            // Add body class for drag state
            document.body.classList.add('dragging');
        }

        function handleUniversalDrop(clientX, clientY) {
            const elementBelow = document.elementFromPoint(clientX, clientY);
            
            // Check if dropped on Venn diagram
            const vennContainer = document.getElementById('venn-container');
            if (vennContainer && (vennContainer.contains(elementBelow) || elementBelow === vennContainer)) {
                const rect = vennContainer.getBoundingClientRect();
                const x = clientX - rect.left;
                const y = clientY - rect.top;
                
                // Get card ID
                let cardId;
                if (currentCard.dataset.placedCard) {
                    cardId = currentCard.dataset.placedCard;
                } else {
                    cardId = currentCard.dataset.card;
                    currentCard.style.display = 'none';
                }
                
                const cardTitle = cardTitles[cardId];
                createPlacedCard(cardId, cardTitle, x, y);
            }
        }

        function preventContext(e) {
            e.preventDefault();
        }

        function cleanupDrag() {
            if (dragClone) {
                // Clear zone indicator
                const indicator = dragClone.querySelector('.zone-indicator');
                if (indicator) {
                    indicator.remove();
                }
                dragClone.remove();
                dragClone = null;
            }
            
            if (currentCard) {
                currentCard.style.opacity = '1';
                currentCard.style.transform = '';
                currentCard = null;
            }
            
            // Remove body class
            document.body.classList.remove('dragging');
            
            // Clear drop zone highlights
            clearDropZoneHighlights();
            
            isDragging = false;
            startTime = 0;
        }

        function highlightDropZone(clientX, clientY) {
            // Clear previous highlights
            clearDropZoneHighlights();
            
            // Check which drop zone we're over
            const elementBelow = document.elementFromPoint(clientX, clientY);
            const vennContainer = document.getElementById('venn-container');
            
            let currentZone = null;
            
            if (vennContainer && (vennContainer.contains(elementBelow) || elementBelow === vennContainer)) {
                // Get SVG coordinates
                const rect = vennContainer.getBoundingClientRect();
                const svgX = (clientX - rect.left) / rect.width * 800; // Scale to SVG viewBox
                const svgY = (clientY - rect.top) / rect.height * 600;
                
                // Check which circle we're in (updated coordinates for bigger circles)
                const circles = [
                    { cx: 240, cy: 170, r: 200, zone: 'working', name: 'Working with AI' },
                    { cx: 560, cy: 170, r: 200, zone: 'designing', name: 'Designing with AI' },
                    { cx: 400, cy: 390, r: 200, zone: 'developing', name: 'Developing for AI' }
                ];
                
                circles.forEach(circle => {
                    const distance = Math.sqrt(Math.pow(svgX - circle.cx, 2) + Math.pow(svgY - circle.cy, 2));
                    if (distance <= circle.r) {
                        const dropZone = document.querySelector(`[data-zone="${circle.zone}"]`);
                        if (dropZone) {
                            dropZone.classList.add('drag-over');
                            currentZone = circle.name;
                        }
                    }
                });
            }
            
            // Update drag clone to show current zone
            updateDragCloneZone(currentZone);
        }

        function updateDragCloneZone(zoneName) {
            if (!dragClone) return;
            
            // Remove existing zone indicator
            const existingIndicator = dragClone.querySelector('.zone-indicator');
            if (existingIndicator) {
                existingIndicator.remove();
            }
            
            // Add new zone indicator if over a zone
            if (zoneName) {
                const indicator = document.createElement('div');
                indicator.className = 'zone-indicator';
                indicator.textContent = zoneName;
                indicator.style.position = 'absolute';
                indicator.style.bottom = '-35px';
                indicator.style.left = '50%';
                indicator.style.transform = 'translateX(-50%)';
                indicator.style.background = '#355cc9';
                indicator.style.color = 'white';
                indicator.style.padding = '0.3rem 0.8rem';
                indicator.style.borderRadius = '20px';
                indicator.style.fontSize = '0.7rem';
                indicator.style.fontWeight = '700';
                indicator.style.whiteSpace = 'nowrap';
                indicator.style.boxShadow = '0 4px 12px rgba(0,0,0,0.3)';
                indicator.style.animation = 'bounce 0.5s ease';
                
                dragClone.appendChild(indicator);
                
                // Add bounce animation if not already present
                if (!document.querySelector('#bounce-style')) {
                    const bounceStyle = document.createElement('style');
                    bounceStyle.id = 'bounce-style';
                    bounceStyle.textContent = `
                        @keyframes bounce {
                            0% { transform: translateX(-50%) translateY(10px); opacity: 0; }
                            100% { transform: translateX(-50%) translateY(0); opacity: 1; }
                        }
                    `;
                    document.head.appendChild(bounceStyle);
                }
            }
        }

        function clearDropZoneHighlights() {
            const dropZones = document.querySelectorAll('.drop-zone');
            dropZones.forEach(zone => zone.classList.remove('drag-over'));
        }

        function handleDragEnd(e) {
            this.classList.remove('dragging');
            draggedCard = null;
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
        }

        function handleDragEnter(e) {
            e.preventDefault();
            this.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            this.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            this.classList.remove('drag-over');
        }

        function handleDropOnDiagram(e) {
            if (!draggedCard) return;
            
            e.preventDefault();
            
            const rect = document.getElementById('venn-container').getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            // Check if the dragged element is a placed card or original card
            let cardId;
            if (draggedCard.dataset.placedCard) {
                // It's a placed card being moved
                cardId = draggedCard.dataset.placedCard;
            } else {
                // It's an original card from the panel
                cardId = draggedCard.dataset.card;
                // Hide the original card
                draggedCard.style.display = 'none';
            }
            
            const cardTitle = cardTitles[cardId];
            
            // Create placed card
            createPlacedCard(cardId, cardTitle, x, y);
        }

        function createPlacedCard(cardId, title, x, y) {
            // Remove existing placed card if it exists
            const existingCard = document.querySelector(`[data-placed-card="${cardId}"]`);
            if (existingCard) {
                existingCard.remove();
            }
            
            const placedCard = document.createElement('div');
            placedCard.className = 'placed-card';
            placedCard.dataset.placedCard = cardId;
            placedCard.innerHTML = `<div style="font-size: 0.6em; font-weight: 700;">${cardId}</div><div>${title}</div>`;
            placedCard.style.left = (x - 40) + 'px';
            placedCard.style.top = (y - 20) + 'px';
            
            // Make it draggable within the diagram (mouse)
            placedCard.draggable = true;
            placedCard.addEventListener('dragstart', function(e) {
                draggedCard = this;
                e.dataTransfer.effectAllowed = 'move';
            });
            
            // Universal drag handling
            placedCard.addEventListener('mousedown', handleUniversalStart);
            placedCard.addEventListener('touchstart', handleUniversalStart, {passive: false});
            if (window.PointerEvent) {
                placedCard.addEventListener('pointerdown', handleUniversalStart);
            }
            
            // Click to view details
            placedCard.addEventListener('click', function(e) {
                if (!isDragging) { // Only if not dragging
                    e.preventDefault();
                    e.stopPropagation();
                    openModal(parseInt(cardId));
                }
            });
            
            // Double-click to return to panel
            placedCard.addEventListener('dblclick', function(e) {
                e.preventDefault();
                e.stopPropagation();
                returnCardToPanel(cardId);
            });
            
            document.getElementById('venn-container').appendChild(placedCard);
            placedCards.set(cardId, {x, y, title});
        }

        function returnCardToPanel(cardId) {
            // Remove placed card
            const placedCard = document.querySelector(`[data-placed-card="${cardId}"]`);
            if (placedCard) {
                placedCard.remove();
            }
            
            // Show original card
            const originalCard = document.querySelector(`[data-card="${cardId}"]`);
            if (originalCard) {
                originalCard.style.display = 'block';
            }
            
            placedCards.delete(cardId);
        }

        function resetCards() {
            // Clean up any ongoing drag operations
            cleanupDrag();
            
            // Remove all placed cards
            const placedCardElements = document.querySelectorAll('.placed-card');
            placedCardElements.forEach(card => card.remove());
            
            // Show all original cards
            const originalCards = document.querySelectorAll('.card-item');
            originalCards.forEach(card => {
                card.style.display = 'block';
                card.style.opacity = '1';
                card.style.transform = '';
            });
            
            // Restore body scrolling
            document.body.style.overflow = 'auto';
            document.body.style.position = 'static';
            document.body.style.width = 'auto';
            
            // Clear the placedCards Map
            placedCards.clear();
        }

        function showSolution() {
            document.getElementById('solution-legend').style.display = 'block';
        }

        function hideSolution() {
            document.getElementById('solution-legend').style.display = 'none';
        }
    </script>
</body>
</html>